@model E_Shop.Data.Models.Product
@using E_Shop.Extensions
<link href="~/css/ProdudctThumbnail.css" rel="stylesheet" />
<div>
    <div class="text-center">
        <a href="~/images/products/@Model.Url">
            @{ string imagePath = Model.ImagesCount > 0 ? "~/images/products/" + Model.ProductId + "_thumb.png" : "~/images/products/not_found.png";}
            <img class="product-image-background" style="max-width:100%; height:8em;" src=@Url.Content(imagePath)>
        </a>
    </div>
    <div>
        <h4>
            <a class="text-primary" href="~/Produkty/@Model.Url">@Model.Title</a><br />
            <a asp-controller="Product" asp-action="Manage" asp-route-url="@Model.Url"><span class="fa fa-pencil text-info" aria-hidden="false"></span></a>
            <a asp-controller="Product" asp-action="Delete" asp-route-id="@Model.ProductId" data-confirm="Naozaj chcete odstrániť produkt?"><span class="fa fa-remove text-danger" aria-hidden="true"></span></a>
        </h4>
    </div>
    <div class="adminThumbnailPart mt-3">
        <div>
            <h4>

                @if (Model.DiscountPercent > 0)
                {
                    <span>
                        <span class="badge badge-pill badge-danger">- @Model.DiscountPercent % &nbsp;</span>
                        <small><s>@Model.OldPrice €</s></small>
                    </span>
                }
                @Model.Price€
            </h4>
        </div>
        <div class="mb-1">
            @{
                if (Model.Stock > 0)
                {
                    <span class="badge badge-info badge-pill">
                        Na sklade @Model.Stock ks
                    </span>
                }
                else
                {
                    <h5 class="text-danger">Nie je na sklade!</h5>
                }

            }
            <p>
                <rating>@Model.Rating</rating>
            </p>
        </div>
    </div>
    <div class="mb-2">
        <div>
            <form asp-action="ProcessCartForm" asp-controller="Product" method="post">
                <div class="input-group">
                    <input type="hidden" name="ProductId" value="@Model.ProductId" />
                    <input type="text" class="form-control input-quantity" name="quantity" value="1" />
                    <button type="submit" name="add_to_cart" class="btn btn-primary"><span class="fa fa-shopping-cart" aria-hidden="true"></span></button>
                </div>
            </form>
        </div>
        <div class="mt-2">
            <form asp-action="ProcessStockForm" asp-controller="Product" method="post">
                <div class="input-group">
                    <input type="hidden" name="ProductId" value="@Model.ProductId" />
                    <input type="text" class="form-control input-quantity" name="quantity" value="1" />
                    <button type="submit" name="add_to_stock" class="btn btn-success"><span class="fa fa-plus" aria-hidden="true"></span></button>
                </div>
            </form>
        </div>
    </div>
</div>  